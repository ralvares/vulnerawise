<div class="searchContainer fixed inset-0 bg-white dark:bg-black/80 z-50 px-5 hidden border border-slate-200 dark:border-slate-700">
  <div class="text-end">
    <button class="searchClose text-black/80 dark:text-white/80 hover:text-black dark:hover:text-white pt-5">
      <svg class="size-5 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
        <path
          d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z" />
      </svg>
    </button>
  </div>
  <div class="flex flex-col gap-y-3 justify-center items-center h-full max-w-full sm:max-w-xl mx-auto">
    <div class="flex w-full justify-between">
      <button onclick="openTab(event, 'search')"
        class="text-black dark:text-white flex items-center justify-center gap-2 pb-3 w-full border-b border-slate-300 dark:border-slate-700 active-tab tablinks font-sans">
        <div>
          <svg class="size-4 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <path
              d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8-12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z" />
          </svg>
        </div>
        Search
      </button>
      <button onclick="openTab(event, 'automate')"
        class="text-black dark:text-white flex items-center justify-center gap-2 pb-3 w-full border-b border-slate-300 dark:border-slate-700 tablinks font-sans">
        <div>
          <svg class="size-5 fill-current text-inherit" viewBox="0 0 24 24" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path class="fill-current" fill-rule="evenodd" clip-rule="evenodd"
              d="M11.373 10.471C9.43517 9.48416 8.72594 8.17465 9.19451 6.57159C9.60731 5.15903 10.9986 4.23447 12.4156 4.45187C13.1224 4.56017 13.744 4.85411 14.2284 5.41491C14.9616 6.2643 15.1272 7.25575 14.9034 8.35988L15.5728 8.54434C15.9165 8.63908 16.2474 8.73027 16.5768 8.82096C17.2896 6.83512 16.4534 4.51486 14.6278 3.32368C12.7268 2.0836 10.2638 2.34521 8.6493 3.96084C7.80641 4.80449 7.34519 5.83385 7.23791 7.02497C7.08622 8.71005 7.77185 10.0698 8.92375 11.2331L7.09224 14.3523C7.03239 14.3568 6.98082 14.36 6.93469 14.3628C6.85025 14.368 6.78409 14.372 6.71885 14.3815C5.5148 14.5548 4.66735 15.6421 4.86996 16.7512C5.09859 18.0043 6.22135 18.7734 7.37374 18.4668C8.59566 18.1417 9.24583 16.9441 8.78496 15.7134C8.61802 15.2679 8.72145 14.9824 8.93041 14.6319C9.51907 13.6443 10.0991 12.6512 10.6899 11.6397C10.9156 11.2531 11.1431 10.8637 11.373 10.471ZM15.52 11.9636C14.9302 10.9074 14.3351 9.84144 13.749 8.79131C13.7783 8.7167 13.8068 8.6465 13.8343 8.57906C13.8923 8.43623 13.9455 8.30563 13.9897 8.17226C14.2238 7.46806 14.0824 6.82541 13.6375 6.25442C13.0932 5.55555 12.1434 5.30173 11.334 5.61623C10.517 5.93356 9.99424 6.74816 10.0298 7.64931C10.0659 8.56049 10.6679 9.37379 11.6005 9.538C12.1589 9.6362 12.4324 9.90553 12.6802 10.3696C13.2069 11.3567 13.7527 12.3332 14.299 13.3105L14.2992 13.3109C14.515 13.6969 14.7308 14.0831 14.9457 14.4701C16.7748 13.2319 18.288 13.2713 19.4178 14.5612C20.3967 15.6789 20.4173 17.3813 19.466 18.523C18.3504 19.8613 16.8477 19.9145 15.1295 18.7844C14.6535 19.1888 14.208 19.5674 13.7647 19.9443C15.5042 21.7078 17.9872 21.9423 19.9506 20.5695C21.8634 19.2322 22.5292 16.665 21.5552 14.4973C20.7489 12.7029 18.5012 11.0269 15.52 11.9636ZM11.561 17.3759H15.1498C15.1999 17.4437 15.2466 17.5107 15.2923 17.5761C15.3876 17.7126 15.478 17.8421 15.5837 17.9571C16.3438 18.7826 17.6272 18.8235 18.4397 18.0574C19.2817 17.2635 19.3198 15.9298 18.5241 15.1009C17.7455 14.2898 16.4148 14.2123 15.6919 15.0711C15.2528 15.593 14.8028 15.6544 14.2199 15.6451C13.1545 15.6284 12.0886 15.6316 11.0229 15.6348C10.5954 15.6361 10.168 15.6373 9.74062 15.6373C9.83752 17.7701 9.04371 19.0991 7.46923 19.4146C5.92747 19.7236 4.50754 18.9246 4.00768 17.467C3.43984 15.8106 4.14208 14.4859 6.17102 13.4346C6.01835 12.8728 5.86401 12.3043 5.71137 11.7412C3.49998 12.2306 1.8409 14.4097 2.01215 16.8612C2.16348 19.0252 3.88223 20.947 5.98423 21.2913C7.12588 21.4785 8.19853 21.2841 9.19378 20.7107C10.474 19.973 11.217 18.8129 11.561 17.3759Z"
              fill="#323544" />
          </svg>
        </div>
        Automate
      </button>
    </div>

    <style>
      #resultBox:hover>.card::after {
        opacity: 1;
      }

      #resultBox>.card:hover::before {
        opacity: 1;
      }

      #resultBox>.card::after {
        border-radius: inherit;
        content: "";
        min-height: 100%;
        left: 0px;
        opacity: 1;
        position: absolute;
        top: 0px;
        transition: opacity 500ms;
        width: 100%;
      }

      #searchBox>.card::after {
        background: radial-gradient(600px circle at var(--mouse-x) var(--mouse-y),
            rgba(35, 118, 221, 0.4),
            rgba(255, 207, 113, 0.4),
            transparent 40%);
        z-index: 1;
      }

      #resultBox>.card>.card-content {
        border-radius: inherit;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        inset: 1px;
        padding: 15px;
        position: absolute;
        z-index: 5;
      }
    </style>
    <div id="resultBox">
      <div class="card relative rounded-3xl mt-3 min-h-[25rem] w-[90vw] md:w-[40rem]">
        <div class="card-content bg-white dark:bg-blue inset-0">
          {{ $bg_pattern := "images/dev/search-bg-pattern.png" | relURL }}
          {{ $gradient := "images/dev/gradient.png" | relURL }}
          <img src="{{ $gradient }}" alt="" class="absolute left-0 right-0 bottom-0 size-full rounded-br-3xl">
          <img src="{{ $bg_pattern }}" alt="" class="absolute inset-0 size-full rounded-3xl">
                <div class="relative z-10 p-1 lg:p-3 lg:mt-2.5 lg:max-w-lg mx-auto">
          <div id="search" class="tabcontent relative z-10">
            <div
              class="border-gradient-primary bg-white dark:bg-main gradient-border-1 after:rounded-md cursor-text p-2 flex gap-2 items-center w-full text-black dark:text-white transition-colors"
            >
              <div class="text-inherit">
                <label for="floatingSearch">
                  <svg class="size-3 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                    <path
                      d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8-12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z" />
                  </svg>
                </label>
              </div>
              <input type="text" id="floatingSearch"
                class="overflow-hidden border-0 bg-transparent grow text-black dark:text-white focus:outline-none popup-search relative z-10"
                placeholder="Search CVE, keyword, or software...">
              <div class="result-container px-3 space-y-2 absolute rounded-3xl top-12 -translate-x-1/2 left-1/2 min-w-[100%] bg-white dark:bg-blue border border-slate-200 dark:border-slate-700 shadow-lg hidden font-sans text-black dark:text-white">
                <img src="{{ $gradient }}" alt="" class="absolute left-0 right-0 bottom-0 size-full rounded-3xl -pt-5">
                <div class="flex gap-2 items-center relative z-10">
                  <div class="size-3">
                    <img src='{{ "images/dev/suggest.svg" | relURL }}' alt="" class="size-full">
                  </div>
                  <span class="text-style font-poppins font-semibold">Search suggestion:</span>
                </div>
                <div class="results relative z-10 space-y-2 h-[18.5rem] overflow-y-scroll text-black dark:text-white font-poppins"></div>
              </div>
            </div>
            <div class="flex justify-center items-center flex-col mt-16 text-center space-y-2">
              <div class="mb-3 flex justify-center items-center h-[100px] w-[75px]">
                <img src='{{ "images/dev/search-tab.svg" | relURL }}' alt="" class="size-full">
              </div>
              <strong class="text-black dark:text-white">Instantly search our enriched vulnerability
                database.</strong>
              <p class="text-sm text-slate-800 dark:text-slate-200">Find any CVE or keyword in real-timeâ€”no noise, just
                results that matter.</p>
            </div>
          </div>

          <div id="automate" class="tabcontent relative z-10 hidden mt-16">
            <div class="flex justify-center items-center flex-col text-center space-y-2">
              <div class="mb-3 flex justify-center items-center h-[100px] w-[87.5px]">
                <img src='{{ "images/dev/automate-tab.svg" | relURL }}' alt="" class="size-full object-contain">
              </div>
              <strong class="text-black dark:text-white">Need to integrate prioritization into your
                workflows?</strong>
              <p class="text-sm text-slate-800 dark:text-slate-200">Use our powerful API or CLI to automate
                vulnerability triage at scale.</p>
              <p class="text-sm text-slate-800 dark:text-slate-200">Build your own decision tree logic into any security
                tool.</p>
              <a href='{{ "docs/api/" | relURL }}'
                class="my-3 rounded-3xl font-medium text-slate-950 px-5 py-3 hover:scale-105 transition-all font-poppins bg-style flex justify-center items-center gap-2">
                <p class="text-inherit font-poppins text-sm">View API & CLI Docs</p>
                <div class="size-3">
                  <img src='{{ "images/dev/dark_right_arrow.png" | relURL }}' alt="" class="size-full">
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>
      <script>
        // onmouse offect 
        document.getElementById("resultBox").onmousemove = e => {
          for (const card of document.getElementsByClassName("card")) {
            const rect = card.getBoundingClientRect(),
              x = e.clientX - rect.left,
              y = e.clientY - rect.top;

            card.style.setProperty("--mouse-x", `${x}px`);
            card.style.setProperty("--mouse-y", `${y}px`);
          };
        };
      </script>

    </div>
  </div>

  <script>
    function openTab(evt, tabName) {
      // Declare all variables
      let i, tabcontent, tablinks;

      // Get all elements with class="tabcontent" and hide them
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].classList.add('hidden');
      }

      // Get all elements with class="tablinks" and remove the class "active"
      tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active-tab", "");
      }

      // Show the current tab, and add an "active" class to the button that opened the tab
      document.getElementById(tabName).classList.remove('hidden');
      evt.currentTarget.className += " active-tab";
    }

  </script>
</div>